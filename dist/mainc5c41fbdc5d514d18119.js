(()=>{"use strict";var t={579:(t,e,o)=>{o.d(e,{Z:()=>a});var n=o(933),r=o.n(n),i=o(476),s=o.n(i)()(r());s.push([t.id,'html,body{height:100%;font-family:"Roboto",sans-serif;background-color:#e8fff9}.container{width:1140px;margin:0 auto}*{box-sizing:border-box}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,input,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:"";content:none}table{border-collapse:collapse;border-spacing:0}.str0{stroke:#4a7989;stroke-width:.39;stroke-miterlimit:22.9256}.fil1{fill:#ffdbb8}.fil2{fill:#e6c6a7}.fil0{fill:#4a7989}.fil3{fill:#6e8e99}.fil4{fill:#3c616d}.svg{margin-left:2%;shape-rendering:geometricPrecision;text-rendering:geometricPrecision;image-rendering:optimizeQuality;fill-rule:evenodd;clip-rule:evenodd;width:5rem;height:6rem}.header{display:flex;align-items:center}.header__wrap{background-color:#ffe8cf;padding:.5rem}.header__title{font-family:"Montserrat",sans-serif;margin-left:2rem;font-size:2.2rem;font-weight:900;color:#4a7989}.header__logo{display:flex;align-items:center}.content{margin:3rem auto 0;padding:0 100px 5rem 100px}.content__text,.content__text_gr{font-size:1.4rem;width:780px;font-family:"Roboto",sans-serif;color:#31494f;font-weight:600;padding:1rem 0 1rem 1rem;background-color:#fff;outline:none}.content__checkbox{display:none}.content__checkbox:checked+.fake-chb::before{content:"";display:block;width:20px;height:20px;background-color:#4a7989;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.content__item{display:flex;justify-content:space-between;align-items:center;margin-top:1rem}.content__item:hover{box-shadow:8px 9px 9px 0px rgba(0,0,0,.16)}.content__btn{background-color:#fcad96;border-color:#fcad96;color:#fff;width:3.5rem;height:3.5rem;font-size:2.3rem}.content__btn:hover{border-color:#fd7d58;background-color:#fd7d58}.bggray{font-weight:300}.line{text-decoration-line:line-through}.colored{background-color:aqua !important}.fake-chb{width:3.5rem;height:3.5rem;border:1px solid #4a7989;position:relative;margin:0 5px}.form{margin:5rem auto 0;display:flex;align-items:center;justify-content:center}.form__input{font-size:1.6rem;color:#31494f;padding-left:8px;width:800px;height:5rem;border-radius:7px;border:none}.form__input:focus-visible{outline:none;box-shadow:8px 9px 9px 0px rgba(0,0,0,.16)}.form__btn{border-color:#4a7989;background-color:#4a7989;margin-left:.8rem;width:130px;height:3.9rem;align-self:center;border-radius:7px;font-size:15px;cursor:pointer;color:#fff;font-weight:500;font-size:1.2rem}.form__btn:hover{box-shadow:0px 5px 8px 0px rgba(0,0,0,.16);background-color:#5eabc4;border-color:#5eabc4}.control{margin-bottom:2rem;display:flex;justify-content:space-between;align-items:center}.control__btn{border-color:#4a7989;background-color:#4a7989;width:200px;height:3.1rem;align-self:center;border-radius:7px;font-size:15px;cursor:pointer;color:#fff;font-weight:500;font-size:1rem}.control__btn:hover{box-shadow:0px 5px 8px 0px rgba(0,0,0,.16);background-color:#5eabc4;border-color:#5eabc4}',""]);const a=s},476:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var o="",n=void 0!==e[5];return e[4]&&(o+="@supports (".concat(e[4],") {")),e[2]&&(o+="@media ".concat(e[2]," {")),n&&(o+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),o+=t(e),n&&(o+="}"),e[2]&&(o+="}"),e[4]&&(o+="}"),o})).join("")},e.i=function(t,o,n,r,i){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(n)for(var a=0;a<this.length;a++){var d=this[a][0];null!=d&&(s[d]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);n&&s[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),o&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=o):l[2]=o),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},933:t=>{t.exports=function(t){return t[1]}},892:t=>{var e=[];function o(t){for(var o=-1,n=0;n<e.length;n++)if(e[n].identifier===t){o=n;break}return o}function n(t,n){for(var i={},s=[],a=0;a<t.length;a++){var d=t[a],c=n.base?d[0]+n.base:d[0],l=i[c]||0,h="".concat(c," ").concat(l);i[c]=l+1;var u=o(h),p={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==u)e[u].references++,e[u].updater(p);else{var f=r(p,n);n.byIndex=a,e.splice(a,0,{identifier:h,updater:f,references:1})}s.push(h)}return s}function r(t,e){var o=e.domAPI(e);return o.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;o.update(t=e)}else o.remove()}}t.exports=function(t,r){var i=n(t=t||[],r=r||{});return function(t){t=t||[];for(var s=0;s<i.length;s++){var a=o(i[s]);e[a].references--}for(var d=n(t,r),c=0;c<i.length;c++){var l=o(i[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=d}}},311:t=>{var e={};t.exports=function(t,o){var n=function(t){if(void 0===e[t]){var o=document.querySelector(t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[t]=o}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(o)}},60:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},192:(t,e,o)=>{t.exports=function(t){var e=o.nc;e&&t.setAttribute("nonce",e)}},760:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(o){!function(t,e,o){var n="";o.supports&&(n+="@supports (".concat(o.supports,") {")),o.media&&(n+="@media ".concat(o.media," {"));var r=void 0!==o.layer;r&&(n+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),n+=o.css,r&&(n+="}"),o.media&&(n+="}"),o.supports&&(n+="}");var i=o.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,o)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},865:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={id:n,exports:{}};return t[n](i,i.exports,o),i.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.nc=void 0,(()=>{const t=[{id:1,todoText:"Найти хороший подарок",completed:!1},{id:2,todoText:"Заказать отель в Нижнем Новгороде",completed:!1},{id:3,todoText:"Созвониться с Сергеем Александровичем",completed:!1},{id:4,todoText:"До 15.09 - подготовить и отправить материалы",completed:!1},{id:5,todoText:"Подготовиться к Sprint Review",completed:!1}],e=".content__text",n=".content__item",r="todos-variant";class i{rendered=!1;constructor(t){this.todoText=this._checkInput(t.todoText),this.id=t.id,this.completed=t.completed}completeTodo(){this.completed=!this.completed;const t=document.querySelector(`${n}[data-id="${this.id}"]`),o=document.querySelector(`${e}[data-id="${this.id}"]`);this.completed?(o.classList.add("bggray","line"),t.classList.add("bggray"),this.rendered=!1):(o.classList.remove("bggray","line"),t.classList.remove("bggray"))}updateText(t){this.todoText=this._checkInput(t)}_checkInput(t){let e=t.trim().slice(0,255);return e?(e=e.replace(/[><]/g,""),e=e.replace(/script/g,""),e):""}toggleTodoColor(t){const o=document.querySelector(`${n}[data-id="${this.id}"]`),r=document.querySelector(`${e}[data-id="${this.id}"]`);"color"===t&&(r.classList.add("colored"),o.classList.add("colored")),"colorless"===t&&(r.classList.remove("colored"),o.classList.remove("colored"))}markUp(){return this.rendered=!0,`\n\n      <div class="${this.completed?"content__item bggray":"content__item"}"\n           data-id="${this.id}"\n      >\n        <label class="content__label">\n          <input type="checkbox"\n                 data-id="${this.id}"\n                 class="content__checkbox"\n                 ${this.completed?"checked":""}\n                 >\n          <div class="fake-chb"></div>\n        </label>       \n        \n        <form class="content__form" type="submit" data-id="${this.id}">\n        <input\n               class="${this.completed?"content__text bggray line":"content__text"}"\n               data-id="${this.id}"\n               value="${this.todoText}"\n        >\n        </form>\n        <button class="content__btn" data-id="${this.id}">-</button>\n      </div>\n    `}}var s=o(892),a=o.n(s),d=o(760),c=o.n(d),l=o(311),h=o.n(l),u=o(192),p=o.n(u),f=o(60),m=o.n(f),g=o(865),b=o.n(g),_=o(579),v={};v.styleTagTransform=b(),v.setAttributes=p(),v.insert=h().bind(null,"head"),v.domAPI=c(),v.insertStyleElement=m(),a()(_.Z,v),_.Z&&_.Z.locals&&_.Z.locals,document.querySelector(".header__wrap").insertAdjacentHTML("beforeend",'\n\n      <div class="header">\n\n        <div \n        ="header__logo">\n           <svg class="svg" viewBox="0 0 17.7 21.45">\n             <g id="Слой_x0020_1">\n               <metadata id="CorelCorpID_0Corel-Layer"/>\n               <g id="_936036768">\n                 <g>\n                   <rect class="fil1" transform="matrix(0.201326 0.143512 -0 0.188936 0.0434972 6.31556)" width="43.74" height="46.61"/>\n                   <path class="fil4" d="M0.04 6.32l8.81 6.27 0 8.81 -8.81 -6.28 0 -8.8zm7.16 6.99c-0.23,-0.17 -0.44,-0.18 -0.62,-0.03 -0.12,0.11 -0.26,0.33 -0.42,0.69l-1.43 3.1 -0.46 -0.33 -1.75 -6.01c-0.1,-0.36 -0.2,-0.62 -0.28,-0.77 -0.12,-0.2 -0.3,-0.4 -0.55,-0.57l0 -0.44 2.45 1.75 0 0.43c-0.31,-0.22 -0.47,-0.23 -0.47,-0.04 0,0.08 0.05,0.3 0.15,0.66l1.02 3.5 0.84 -1.92c0.12,-0.24 0.18,-0.43 0.18,-0.54 0,-0.29 -0.23,-0.59 -0.7,-0.93l0 -0.43 2.04 1.46 0 0.42z"/>\n                 </g>\n                 <g>\n                   <rect class="fil1" transform="matrix(0.201326 -0.142521 -0 0.188936 8.84923 12.5927)" width="43.74" height="46.61"/>\n                   <path class="fil0" d="M8.85 12.59l8.81 -6.23 0 8.8 -8.81 6.24 0 -8.81zm7.16 -3.18c-0.24,0.17 -0.45,0.46 -0.62,0.87 -0.12,0.27 -0.27,0.69 -0.43,1.28l-1.43 5.13 -0.46 0.33 -1.75 -3.53c-0.1,-0.21 -0.19,-0.34 -0.28,-0.37 -0.11,-0.04 -0.3,0.03 -0.55,0.21l0 -0.44 2.45 -1.73 0 0.43c-0.31,0.23 -0.47,0.43 -0.47,0.63 0,0.08 0.05,0.22 0.16,0.44l1.02 2.05 0.84 -3.11c0.12,-0.42 0.18,-0.69 0.18,-0.8 0,-0.29 -0.23,-0.26 -0.7,0.07l0 -0.43 2.04 -1.45 0 0.42z"/>\n                 </g>\n                 <rect class="fil3 str0" transform="matrix(0.201324 -0.14335 0.188933 0.134528 0.043488 6.30105)" width="43.74" height="46.61"/>\n               </g>\n             </g>\n           </svg>\n         </div>\n        \n        <h1 class\n        ="header__title">My TODO List</h1>\n      </div>\n');const x=new class{contentContainer=document.querySelector(".content");oddColored=!1;evenColored=!1;todos=[];constructor(){this._getTodos(),this._renderBtns(),this._init()}_getTodos(){let e=localStorage.getItem(r);e||(localStorage.setItem(r,JSON.stringify(t)),e=localStorage.getItem(r)),this._handleData(JSON.parse(e))}_handleData(t){t.map((t=>{this.todos.push(new i(t))})),this._render()}_renderBtns(){this.contentContainer.insertAdjacentHTML("afterbegin",'\n  <div class="control">\n    <button class="control__btn" data-role="delete-last" type="button">Удалить запись в конце</button>\n    <button class="control__btn" data-role="delete-first" type="button">Удалить запись в начале</button>\n    <button class="control__btn" data-role="toggle-even" type="button">Изменить цвет для чётных</button>\n    <button class="control__btn" data-role="toggle-odd" type="button">Изменить цвет для нечётных</button>\n    </div>\n\n')}_render(){for(let t of this.todos)t.rendered||this.contentContainer.insertAdjacentHTML("beforeend",t.markUp(this.todos.indexOf(t)))}_renderBottom(t){t.rendered||this.contentContainer.insertAdjacentHTML("beforeend",t.markUp(this.todos.indexOf(t)))}_renderTop(t){t.rendered||document.querySelector(".control").insertAdjacentHTML("afterend",t.markUp(t))}_removeMarkUp(t){document.querySelector(`${n}[data-id="${t}"]`).remove()}_getOneTodo(t){return this.todos.find((e=>e.id===t))}_setTodos(){localStorage.setItem(r,JSON.stringify(this.todos))}_deleteTodo(t){const e=+t.target.dataset.id;this._removeMarkUp(e);const o=this._getOneTodo(e);this.todos.splice(this.todos.indexOf(o),1),this._setTodos(),this._checkColor(),console.log("Todo was deleted")}_updateTodoComplete(t){const e=+t.target.dataset.id,o=this._getOneTodo(e);o.completeTodo(),this.todos=this.todos.filter((t=>t.id!==o.id)),this._removeMarkUp(e),o.rendered=!1,o.completed?(this.todos.push(o),this._renderBottom(o)):(this.todos.unshift(o),this._renderTop(o)),this._setTodos(),this._checkColor()}_updateTodoText(t){let e=t.target.elements[0].value;const o=+t.target.dataset.id;this._getOneTodo(o).updateText(e),this._setTodos()}_deleteLast(){this._removeMarkUp(this.todos[this.todos.length-1].id),this.todos.pop(),this._setTodos(),this._checkColor()}_deleteFirst(){this._removeMarkUp(this.todos[0].id),this.todos.shift(),this._setTodos(),this._checkColor()}_toggleColor(t){"even"===t&&(this.evenColored=!this.evenColored,this._checkColor()),"odd"===t&&(this.oddColored=!this.oddColored,this._checkColor())}_checkColor(){this.evenColored?this.todos.forEach(((t,e)=>{e+1&1||t.toggleTodoColor("color")})):this.todos.forEach(((t,e)=>{e+1&1||t.toggleTodoColor("colorless")})),this.oddColored?this.todos.forEach(((t,e)=>{e+1&1&&t.toggleTodoColor("color")})):this.todos.forEach(((t,e)=>{e+1&1&&t.toggleTodoColor("colorless")}))}addTodo(t){const e=new i({id:this._getMaxId()+1,todoText:t,completed:!1});this.todos.unshift(e),this._setTodos(),this._renderTop(e)}_getMaxId(){return+this.todos.reduce(((t,e)=>t>e.id?t:e.id),0)}_init(){this.contentContainer.addEventListener("click",(t=>{t.target.classList.contains("content__btn")&&this._deleteTodo(t),t.target.classList.contains("content__checkbox")&&this._updateTodoComplete(t),"delete-last"===t.target.getAttribute("data-role")&&this._deleteLast(),"delete-first"===t.target.getAttribute("data-role")&&this._deleteFirst(),"toggle-even"===t.target.getAttribute("data-role")&&this._toggleColor("even"),"toggle-odd"===t.target.getAttribute("data-role")&&this._toggleColor("odd")})),this.contentContainer.addEventListener("submit",(t=>{t.preventDefault(),t.target.classList.contains("content__form")&&this._updateTodoText(t)}))}};new class{formContainer=document.querySelector(".form__wrap");content=null;constructor(t){this.content=t,this._render(),this._init()}_render(){this.formContainer.insertAdjacentHTML("afterbegin",this._markUp())}_markUp(){return'\n      <form class="form">\n        <input class="form__input"\n               type="search"\n               placeholder="Новая задача"\n               autofocus\n        >\n        </input>\n        <button class="form__btn" type="submit">Сохранить</button>   \n      </form>\n    '}_handleSubmit(t){let e=t.target.elements[0].value;this.content.addTodo(e),t.target.elements[0].value=""}_init(){this.formContainer.addEventListener("submit",(t=>{t.preventDefault(),t.target.classList.contains("form")&&this._handleSubmit(t)}))}}(x)})()})();